I got help from the Mozilla Developer Network.